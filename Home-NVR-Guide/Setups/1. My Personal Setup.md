#### Main Components:
- [Amcrest 5mp POE Turret Camera](https://amcrest.com/5mp-poe-camera-turret-ip5m-t1179ew-28mm-2.html)
- [Reolink POE Video Doorbell](https://reolink.com/product/reolink-video-doorbell-poe/)
- [Beelink S12 Mini PC](https://www.aliexpress.us/item/3256805015503129.html?spm=a2g0o.productlist.main.1.52e24266AhqtWl&algo_pvid=3cc3d9ba-aee1-41aa-9232-d5cd2f3b4991&algo_exp_id=3cc3d9ba-aee1-41aa-9232-d5cd2f3b4991-0&pdp_ext_f=%7B%22order%22%3A%229%22%2C%22eval%22%3A%221%22%2C%22fromPage%22%3A%22search%22%7D&pdp_npi=6%40dis%21USD%21533.13%21319.88%21%21%21533.13%21319.88%21%402101e80f17689317606675714e99c4%2112000053218927961%21sea%21US%210%21ABX%211%210%21n_tag%3A-29910%3Bd%3Ae131a9e1%3Bm03_new_user%3A-29895&curPageLogUid=CWCOPjUy0zqc&utparam-url=scene%3Asearch%7Cquery_from%3A%7Cx_object_id%3A1005005201817881%7C_p_origin_prod%3A) (Note: as of checking on 01/20/2026, it looks like this model is no longer available on the Beelink website os I linked an Aliexpress page, a good alternative on the Beelink site is [the Beelink EQ14 N150](https://www.bee-link.com/products/beelink-eq14-n150?variant=47996790636786))
- [Home Assistant](https://www.home-assistant.io)
- [Frigate NVR](https://frigate.video)
- [TP-Link Network Switch](https://www.microcenter.com/product/693930/tp-link-tl-sg605p-5-port-gigabit-desktop-switch-with-4-port-poe)
- [Proxmox](https://www.proxmox.com/en)
- [Docker](https://www.docker.com)
- [Portainer](https://www.portainer.io)
- CAT8 Ethernet Cable (~200ft total)
- USB (at least 18GB)

#### Overview
My personal setup at home consists of 2 POE turret cameras from Amcrest, a POE Doorbell camera from Reolink, a Beelink S12 Mini PC. The S12 runs a Proxmox server that has VMs for Home Assistant, PiHole (not covered in this guide), and Frigate NVR. I have a TP-Link network switch that connects the 3 cameras to my network. The 3 cameras combined give a comprehensive view of my front yard, driveway, and back yard which covers all entry points to my home (as we don't have any side windows).

### Proxmox and Home Assistant Setup
1. Download the Proxmox ISO file to your USB and install it to the Beelink Mini PC. [The Proxmox site has good instructions on installation there](https://www.proxmox.com/en/products/proxmox-virtual-environment/get-started), so check out their guide as it's more comprehensive than what I will type out here.
2. Configure Proxmox to your specifications and set up a secure login. Ensure you have access to all the storage and resources of the PC and nothing went wrong during install.
3. Create a VM container [using this helper script](https://community-scripts.github.io/ProxmoxVE/scripts?id=haos-vm&category=IoT+%26+Smart+Home) for proxmox. This will go through the setup process for Home Assistant so go ahead and complete this to your specifications. Be aware, there are 2 different scripts for Home Assistant on this site, I've used the one that's linked, so I'm not sure about the performance of the other script but typically these scripts work out well.
4. Once the container is created, make sure it's set up to start automatically and go ahead and start it up.
5. Bonus! Set up an automatic backup at a regular rate for this VM so that your settings and data isn't lost if something happens to your setup.
5b. Have fun with Home Assistant! I love HA and all it can do, but for the purposes of this guide I recommend doing the following steps first.
6. [Download and install HACS following this guide](https://hacs.xyz/docs/use/).
7. Follow the [official Frigate documentation on installing the Frigate NVR Integration for Home Assistant](https://docs.frigate.video/integrations/home-assistant/). For the purposes of explaining my personal setup, since I have Frigate running on a separate VM on Proxmox, I didn't need any of the steps after completing ['Configuration'](https://docs.frigate.video/integrations/home-assistant/#configuration). That being said, since we are about to cover setting up Frigate in the next section, skip the 'Configuration' section for now. It'll be covered next.

### Frigate NVR VM
I'm going to link a post I made on Reddit a while back that detailed my 'adventure' getting Frigate working on my setup. It's somewhat straightforward, I broke it down as much as possible. I'll be detailing the steps below as well, edited to fit the format of this guide, but [the full Reddit Post is here](https://www.reddit.com/r/homeassistant/comments/1pbr7hg/frigatehome_assistant_on_proxmox_with_docker/). The steps below are detailing what I did alongside the steps in the guide I linked. This does get pretty technical, but the main things to know are you'll be working primarily in the command line in Proxmox to get this set up. If I remember correctly, the usual 'copy paste' methods don't work the same way, so I typed out these commands manually mostly. I also recommend taking a backup of all of Proxmox now, that way if something goes wrong you can restore everything with no problem and don't have to start over.

1. Follow the steps detailed in [this guide to set up a Debian VM on Proxmox](https://www.naturalborncoder.com/2023/07/creating-a-basic-vm-on-proxmox/). When setting up Debian VM, you'll have to access the console on the new VM to complete Debian setup including user creation. I personally didn't do any extra partitioning when it got to this point, but you can do what is needed for your setup. I mostly chose the defaults for most options in these steps EXCEPT when it asked me to install other software, essentially the exact steps the guide goes through. This whole process takes a while.

2. Once completed, while going through the VM configuration steps (setting my static IP) I found I had to run 'su' (superuser) first before I was able to use 'nano' to edit the /etc/hosts file. I also created a backup of this in case any steps in the future messed things up I could rollback to this point.
NOTE: When doing the next steps, use 'su -' instead of 'su' to get root in order to run commands from the steps.

3. After Debian was set up, I followed the directions [in the Docker documentation](https://docs.docker.com/engine/install/debian/) to get it set up on the VM I just made. I did the 'apt' install method and it worked out for me, running the hello-world command gave me the successful return. This whole process is pretty quick. Again, I created a backup here.

4. From here, I guess Portainer is optional, but I wanted to install it anyways because I like UI. Note, when the guide goes through the install process, after you finish the install run ip a to get your IP address that's being used to verify it's still the static one you set. For some reason, the IP changed, which is no bueno. In order to fix this, I had to make sure that docker and the VM were running, then go into my router settings and manually set the IP for the VM, then restart the VM. Immediately going to that IP:9443 should now pull up a 'create login' screen for Portainer, go through this now in order to do the next steps before Portainer times out for security reasons.

5. Now, we have a working docker and Portainer instance on a Debian VM. Going into the local docker container, I removed the generated container I got when I did the 'hello-world' run so only the Portainer container was left.

6. I also didn't have a Coral TPU yet, so I skipped the hardware acceleration step for now. I'll go back and do this once my Coral TPU arrives to add it in. I now referenced the steps on the [Frigate Documentation website](https://docs.frigate.video/frigate/installation/) to get the docker-compose written. Change these values around as much as you need, [pay special attention to the calculations for the smh_values](https://docs.frigate.video/frigate/installation/#calculating-required-shm-size). I then ran docker compose up -d and checked the URL (same one as portainer) to verify that Frigate was indeed working (If you followed all the same steps I did here, you might not need the 'privileged' or shm_size options here).

7. If you're wondering how to log in to Frigate at this point, the username and password is generated and output in the container logs in Portainer. Here just search for 'User:' to get the username (usually admin) and 'Password:" to get the generated password. Once in the frigate interface, you can change the password.

7.5. Next, I tried to add the hardware acceleration for intel processors (until my Coral comes in) by [following the steps on the Frigate documentation](https://docs.frigate.video/guides/getting_started/#step-3-configure-hardware-acceleration-recommended), however I couldn't get this working, so I'll just be patient and wait for the Coral to arrive.

8. I then went in and edited the config/config.yaml file to set up my cameras. Each setup will be different, for my Reolink camera I referenced this part of the documentation and this part for my Amcrest. Don't forget to run docker compose up -d after any changes to the config or compose files to apply the changes. (Note for my reolink doorbell: I was getting an unauthorized error. Turns out you can't have special characters in your password, or it messes up the login. After removing those in a new password, I was able to connect).

9. Now, go back to your ['Configuration'](https://docs.frigate.video/integrations/home-assistant/#configuration) settings in Home Assistant for Frigate (where we left off before) and enter the correct URL and port for your Frigate NVR setup.

Assuming everything went according to plan, at this point we have everything except the cameras set up, which we'll cover now.

### PoE Cameras
(PoE stands for Power over Ethernet)[https://en.wikipedia.org/wiki/Power_over_Ethernet] and enables the cameras to recieve both power and send data with a single cable. This also enables the cameras to avoid wifi or wireless based interference and avoid having to change out batteries. This does require a network switch to connect these cameras that specifically has PoE capabilities. The cameras connect from the camera's ethernet port, through the ethernet cable, into the switch, which then connects to your router. The other benefit to this is that if you were to lose internet access, you don't lose connection to your cameras since they are networked to your home intranet.

The setup is pretty simple in concept; mount the cameras at your desired locations ensuring access to the ethernet ports, then run the ethernet cable from your camera to the network switch. You'll want to run the cabling indoors ideally for extra security, but there are outdoor capable ethernet cables that can be used too (there is a difference, outdoor ethernet cables are shielded from UV and temperatures when indoor cables are not). Once the cameras are connected to the switch, plug the switch into the wall to provide power, and then plug the switch into your router.

As a recommended step here, you can assign a [static IP](https://en.wikipedia.org/wiki/IP_address) for your cameras to make the future steps easier. As a quick overview to what this means, whenever a device connects to your network a local IP address is assigned to it (usually foimatted as 192.168.###.###) that is local to your network. This means that if you want to connect to that device, you can type in the IP address to a browser or network file system and access it, but ONLY if you are already connected to the network elsewhere. You cannot just go into an internet browser from anywhere and type the local IP address in and access the device.
